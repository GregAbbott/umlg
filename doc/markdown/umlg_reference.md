<!-- UMLG Reference Manual -->

##UMLG Collection Semantics

UML has 2 boolean properties that specifies the collection semantics of a property. They are,

* uniqueness
* ordering

These properties only make sense when the property has a upper multiplicity greater than 1. Together they specify whether
a property will be one of the following,

* **Set** (isUnique = true, isOrdered = false)
* **List** (isUnique = false, isOrdered = true)
* **OrderedSet** (isUnique = true, isOrdered = true)
* **Bag** (isUnique = false, isOrdered = false)

UMLG has 4 corresponding java interfaces to represent the 4 collections.

* `org.umlg.runtime.collection.UmlgSet`
* `org.umlg.runtime.collection.UmlgSequence`
* `org.umlg.runtime.collection.UmlgOrderedSet`
* `org.umlg.runtime.collection.UmlgBag`

To implement `UmlgSet` and `UmlgSequence` the standard java Set and List collection classes are used.

For `UmlgBag` google guava's [Multiset](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multiset.html) is used

For `UmlgOrderedSet` apache collections' [ListOrderedSet](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/set/ListOrderedSet.html) is used.

This implies that for any property with a upper multiplicity greater than 1 the property will be one of the 4 given types.

###An example

![image of set semantics](images/uml/quickpreview/org/umlg/setsemantics/Package_setsemantics_SetSemanticsClassDiagram.PNG)

Illustrates {unique}

    @Test
    public void testSet() {
        Performance p = new Performance();
        Reservation r1 = new Reservation();
        Reservation r2 = new Reservation();
        p.addToReservation(r1);
        p.addToReservation(r2);
        UMLG.get().commit();
        Assert.assertTrue(p.getReservation() instanceof UmlgSet);
        Assert.assertTrue(p.getReservation() instanceof Set);
        Assert.assertEquals(2, p.getReservation().size());
    }

Illustrates {ordered}

    @Test
    public void testList() {
        Performance p = new Performance();
        Request r1 = new Request();
        Request r2 = new Request();
        p.addToRequest(r1);
        p.addToRequest(r2);
        UMLG.get().commit();
        Assert.assertTrue(p.getRequest() instanceof UmlgSequence);
        Assert.assertTrue(p.getRequest() instanceof List);
        Assert.assertEquals(2, p.getRequest().size());
    }

Illustrates {ordered, unique}

    @Test
    public void testOrderedSet() {
        Order o = new Order();
        LineItem l1 = new LineItem();
        LineItem l2 = new LineItem();
        o.addToLineItem(l1);
        o.addToLineItem(l2);
        UMLG.get().commit();
        Assert.assertTrue(o.getLineItem() instanceof UmlgOrderedSet);
        Assert.assertTrue(o.getLineItem() instanceof Set);
        Assert.assertTrue(o.getLineItem() instanceof List);
        Assert.assertEquals(2, o.getLineItem().size());
    }

Illustrates {}

    @Test
    public void testBag() {
        Product p = new Product();
        Complaint c1 = new Complaint();
        Complaint c2 = new Complaint();
        p.addToComplaint(c1);
        p.addToComplaint(c2);
        UMLG.get().commit();
        Assert.assertTrue(p.getComplaint() instanceof UmlgBag);
        Assert.assertTrue(p.getComplaint() instanceof Multiset);
        Assert.assertEquals(2, p.getComplaint().size());
    }

##UMLG Types

UMLG supports UML's basic primitive types. These are,

* **Boolean**, translates to java's `java.lang.Boolean`
* **Integer**, translates to java's `java.lang.Integer`
* **Real**, translates to java's `java.lang.Double`
* **String**, translates to java's `java.lang.String`
* **UnlimitedNatural**, translates to java's `java.lang.Long`

###UMLG Data Types

From the UML specification.

>A data type is a type whose instances are identified only by their value. A DataType may contain attributes to support the
 modeling of structured data types.

UMLG has its own library of data types. This is packaged in **umlg-datatypes.uml**. umlg-datatypes.uml is prepackaged with
the application generated by the [UMLG maven archetype](http://umlg.org/getting_started.html "UMLG maven archetype").
Otherwise copy umlg-datatypes.uml to the directory of your model and import the library into your model.

**umlg-datatypes.uml** contains the following data types,

* **Email**, translates to `java.lang.String`
* **DateTime**, translates to `org.joda.time.DateTime`
* **Date**, translates to `org.joda.time.LocalDate`
* **Time**, translates to `org.joda.time.LocalTime`
* **InternationalPhoneNumber**, Not yet implemented
* **LocalPhoneNumber**, Not yet implemented
* **Interval**, Not yet implemented
* **Duration**, Not yet implemented
* **CreditCardNumber**, Not yet implemented
* **Video**, Not yet implemented
* **Audio**, Not yet implemented
* **Image**, Not yet implemented

###UMLG Validation Stereotypes

UMLG has its own validation profile. This is packaged in **validation.profile.uml**. validation.profile.uml is prepackaged with
the application generated by the [UMLG maven archetype](http://umlg.org/getting_started.html "UMLG maven archetype").
Otherwise copy validation.profile.uml to the directory of your model and import the library into your model.

**validation.profile.uml** contains the following stereotypes,

* **MinLength**, validates that a String has a length greater than or equal to the value specified on the stereotype
* **MaxLength**, validates that a String has a length smaller than or equal to the value specified on the stereotype
* **RangeLength**, validates that a String has a length within the range specified on the stereotype
* **Min**, validates that a Number is ma specified on the stereotype
* **Max**, Not yet implemented
* **Range**, Not yet implemented

##Associations

##Multiplicity

##Inheritence

##Interfaces

##Enumeration

##Association Classes

##Constraints

##Qualifiers

##Validation Profile

##Subsetting

##Redefinitions
