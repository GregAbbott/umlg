!function(e){function t(t){function n(){Nt=!0}function i(){Nt=!1,pt()}function r(e){Tt=e}function o(e){wt=e}function a(e){e=e||0;for(var t,n=e,i=Ct.length;i>n;n++){var r=Ct[n];if(t=r[Rt],void 0===t)throw"Each data element must implement a unique 'id' property";bt[t]=n}}function l(e){e=e||0;for(var t,n=e,i=Wt.length;i>n;n++){var r=Wt[n];if(t=r[Rt],void 0===t)throw"Each data element must implement a unique 'id' property";r._index=n,en[t]=n}}function s(e){e=e||0;for(var t,n=e,i=Qt.length;i>n;n++){var r=Qt[n];if(t=r[Rt],void 0===t)throw"Each data element must implement a unique 'id' property";r._index=n,Zt[t]=n}}function u(){for(var e,t=0,n=Ct.length;n>t;t++)if(e=Ct[t][Rt],void 0===e||bt[e]!==t)throw"Each data element must implement a unique 'id' property"}function d(){return Ct}function g(){return Qt}function c(){return Wt}function f(){return Jt}function p(e){for(var t=0;t<e.length;t++)q(e[t])}function h(e,t){void 0!==t&&(Rt=t),Ct=Bt=e,bt={},a(),u(),pt()}function m(e){void 0!=e.pageSize&&(qt=e.pageSize,Kt=qt?Math.min(Kt,Math.max(0,Math.ceil(Vt/qt)-1)):0),void 0!=e.pageNum&&(Kt=Math.min(e.pageNum,Math.max(0,Math.ceil(Vt/qt)-1))),Ht.notify(v(),null,$t),pt()}function v(){var e=qt?Math.max(1,Math.ceil(Vt/qt)):1;return{pageSize:qt,pageNum:Kt,totalRows:Vt,totalPages:e}}function _(e,t){Gt=t,_t=e,vt=null,t===!1&&Ct.reverse(),Ct.sort(e),t===!1&&Ct.reverse(),bt={},a(),pt()}function w(e,t){Gt=t,vt=e,_t=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof e?e:function(){return this[e]},t===!1&&Ct.reverse(),Ct.sort(),Object.prototype.toString=n,t===!1&&Ct.reverse(),bt={},a(),pt()}function I(){_t?_(_t,Gt):vt&&w(vt,Gt)}function y(e){At=e,t.inlineFilters&&(It=lt(),yt=st()),pt()}function $(){return Pt}function x(n){t.groupItemMetadataProvider||(t.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),jt=[],Ot=[],n=n||[],Pt=n instanceof Array?n:[n];for(var i=0;i<Pt.length;i++){var r=Pt[i]=e.extend(!0,{},Dt,Pt[i]);r.getterIsAFn="function"==typeof r.getter,r.compiledAccumulators=[];for(var o=r.aggregators.length;o--;)r.compiledAccumulators[o]=at(r.aggregators[o]);Ot[i]={}}pt()}function R(e,t,n){return null==e?void x([]):void x({getter:e,formatter:t,comparer:n})}function C(e,t){if(!Pt.length)throw new Error("At least one grouping must be specified before calling setAggregators().");Pt[0].aggregators=e,Pt[0].aggregateCollapsed=t,x(Pt)}function S(e){return Ct[e]}function b(e){return bt[e]}function M(){if(!Mt){Mt={};for(var e=0,t=St.length;t>e;e++)Mt[St[e][Rt]]=e}}function A(e){return M(),Mt[e]}function F(e){return Ct[bt[e]]}function N(e){var t=[];M();for(var n=0;n<e.length;n++){var i=Mt[e[n]];null!=i&&(t[t.length]=i)}return t}function G(e){for(var t=[],n=0;n<e.length;n++)e[n]<St.length&&(t[t.length]=St[e[n]][Rt]);return t}function T(t,n,i){if(void 0===bt[t]||t!==n[Rt])throw"Invalid or non-matching id";if(Ct[bt[t]]=n,Ft||(Ft={}),Ft[t]=!0,pt(),void 0!=en[t]){if(Wt[en[t]].id!==t)throw"Non matching new id";var r={};r[i]=n[i],Wt[en[t]]=e.extend(Wt[en[t]],r)}else{if(void 0==Zt[t])Zt[t]=Qt.length,Qt[Qt.length]={id:t};else if(Qt[Zt[t]].id!==t)throw"Non matching updated id";var o={};o[i]=n[i],Qt[Zt[t]]=e.extend(Qt[Zt[t]],o)}}function k(e,t){Ct.splice(e,0,t),a(e),pt()}function B(){Qt=[],Zt={},Wt=[],en={},Jt=[],Xt={},Yt={}}function E(e,t){if(void 0!==e.tmpId){if(!t)throw"After a rollback only composite properties can have a tmpId";if(-1!==e.id.indexOf("fake")){if(void 0==bt[e.id])throw"Invalid id";var n=bt[e.id];Ct[n]=e;var i=en[e.id];Wt[i]=e}else{if(void 0==bt[e.tmpId])throw"Invalid id";var n=bt[e.tmpId];Ct[n]=e,delete bt[e.tmpId],bt[e.id]=n;var i=en[e.tmpId];Wt[i]=e,delete en[e.tmpId],en[e.id]=i,Yt[n]=e.id}}else{if(void 0==bt[e.id])throw"Invalid id";var n=bt[e.id];if(Ct[n]=e,void 0!==Zt[e.id]){var r=Zt[e.id];Qt[r]=e}else{if(void 0===en[e.id])throw"updatedIdxById and newIdxById can not both be undefined!!!!";var i=en[e.id];Wt[i]=e}}pt()}function D(e,t){if(void 0!==e.tmpId){if(!t)throw"After a commit only composite properties can have a tmpId";if(-1!==e.id.indexOf("fake"))throw"Item must have an id after a commit!";if(void 0==bt[e.tmpId])throw"Invalid id";var n=bt[e.tmpId];Ct[n]=e,delete bt[e.tmpId],bt[e.id]=n;var i=en[e.tmpId];Wt[i]=e,delete en[e.tmpId],en[e.id]=i,Yt[n]=e.id}else{if(void 0==bt[e.id])throw"Invalid id";var n=bt[e.id];if(Ct[n]=e,void 0!==Zt[e.id]){var r=Zt[e.id];Qt[r]=e,Xt[n]=e.id}else{if(void 0===en[e.id])throw"updatedIdxById and newIdxById can not both be undefined!!!!";var i=en[e.id];Wt[i]=e,Yt[n]=e.id}}pt()}function P(e){return void 0!==Yt[e]&&null!==Yt[e]}function j(e){return void 0!==Xt[e]&&null!==Xt[e]}function O(e){return void 0!==en[e]&&null!==en[e]}function U(e){return void 0!==Zt[e]&&null!==Zt[e]}function q(e){Ct.push(e),Wt.push(e),en[e[Rt]]=Wt.length-1,a(Ct.length-1),pt()}function K(e){var t=bt[e];if(void 0===t)throw"Invalid id";if(void 0===en[e]||null===en[e]){var n=Ct[t];if(Jt.push(n),void 0!==Zt[e]||null!==Zt[e]){var i=Zt[e];delete Zt[e],Qt.splice(i,1),s(i)}}else{var r=en[e];delete en[e],Wt.splice(r,1),l(r)}delete bt[e],Ct.splice(t,1),a(t),pt()}function V(){return St.length}function z(e){return St[e]}function L(e){var n=St[e];return void 0===n?null:n.__group?t.groupItemMetadataProvider.getGroupRowMetadata(n):n.__groupTotals?t.groupItemMetadataProvider.getTotalsRowMetadata(n):null}function H(e,t){if(null==e)for(var n=0;n<Pt.length;n++)Ot[n]={},Pt[n].collapsed=t;else Ot[e]={},Pt[e].collapsed=t;pt()}function Q(e){H(e,!0)}function W(e){H(e,!1)}function J(e,t,n){Ot[e][t]=Pt[e].collapsed^n,pt()}function X(){var e=Array.prototype.slice.call(arguments),t=e[0];1==e.length&&-1!=t.indexOf(Ut)?J(t.split(Ut).length-1,t,!0):J(e.length-1,e.join(Ut),!0)}function Y(){var e=Array.prototype.slice.call(arguments),t=e[0];1==e.length&&-1!=t.indexOf(Ut)?J(t.split(Ut).length-1,t,!1):J(e.length-1,e.join(Ut),!1)}function Z(){return jt}function et(e,t){for(var n,i,r,o=[],a=[],l=t?t.level+1:0,s=Pt[l],u=0,d=s.predefinedValues.length;d>u;u++)i=s.predefinedValues[u],n=a[i],n||(n=new Slick.Group,n.value=i,n.level=l,n.groupingKey=(t?t.groupingKey+Ut:"")+i,o[o.length]=n,a[i]=n);for(var u=0,d=e.length;d>u;u++)r=e[u],i=s.getterIsAFn?s.getter(r):r[s.getter],n=a[i],n||(n=new Slick.Group,n.value=i,n.level=l,n.groupingKey=(t?t.groupingKey+Ut:"")+i,o[o.length]=n,a[i]=n),n.rows[n.count++]=r;if(l<Pt.length-1)for(var u=0;u<o.length;u++)n=o[u],n.groups=et(n.rows,n);return o.sort(Pt[l].comparer),o}function tt(e){for(var t,n=Pt[e.level],i=e.level==Pt.length,r=new Slick.GroupTotals,o=n.aggregators.length;o--;)t=n.aggregators[o],t.init(),n.compiledAccumulators[o].call(t,!i&&n.aggregateChildGroups?e.groups:e.rows),t.storeResult(r);r.group=e,e.totals=r}function nt(e,t){t=t||0;for(var n,i=Pt[t],r=e.length;r--;)n=e[r],(!n.collapsed||i.aggregateCollapsed)&&(n.groups&&nt(n.groups,t+1),i.aggregators.length&&(i.aggregateEmpty||n.rows.length||n.groups&&n.groups.length)&&tt(n))}function it(e,t){t=t||0;for(var n,i=Pt[t],r=i.collapsed,o=Ot[t],a=e.length;a--;)n=e[a],n.collapsed=r^o[n.groupingKey],n.title=i.formatter?i.formatter(n):n.value,n.groups&&(it(n.groups,t+1),n.rows=[])}function rt(e,t){t=t||0;for(var n,i,r=Pt[t],o=[],a=0,l=0,s=e.length;s>l;l++){if(i=e[l],o[a++]=i,!i.collapsed){n=i.groups?rt(i.groups,t+1):i.rows;for(var u=0,d=n.length;d>u;u++)o[a++]=n[u]}i.totals&&r.displayTotalsRow&&(!i.collapsed||r.aggregateCollapsed)&&(o[a++]=i.totals)}return o}function ot(e){var t=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,n=e.toString().match(t);return{params:n[1].split(","),body:n[2]}}function at(e){var t=ot(e.accumulate),n=new Function("_items","for (var "+t.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+t.params[0]+" = _items[_i]; "+t.body+"}");return n.displayName=n.name="compiledAccumulatorLoop",n}function lt(){var e=ot(At),t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,t),n=n.replace(/\$item\$/gi,e.params[0]),n=n.replace(/\$args\$/gi,e.params[1]);var i=new Function("_items,_args",n);return i.displayName=i.name="compiledFilter",i}function st(){var e=ot(At),t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,t),n=n.replace(/\$item\$/gi,e.params[0]),n=n.replace(/\$args\$/gi,e.params[1]);var i=new Function("_items,_args,_cache",n);return i.displayName=i.name="compiledFilterWithCaching",i}function ut(e,t){for(var n=[],i=0,r=0,o=e.length;o>r;r++)At(e[r],t)&&(n[i++]=e[r]);return n}function dt(e,t,n){for(var i,r=[],o=0,a=0,l=e.length;l>a;a++)i=e[a],n[a]?r[o++]=i:At(i,t)&&(r[o++]=i,n[a]=!0);return r}function gt(e){if(At){var n=t.inlineFilters?It:ut,i=t.inlineFilters?yt:dt;Tt.isFilterNarrowing?Bt=n(Bt,wt):Tt.isFilterExpanding?Bt=i(e,wt,Et):Tt.isFilterUnchanged||(Bt=n(e,wt))}else Bt=qt?e:e.concat();var r;return qt?(Bt.length<Kt*qt&&(Kt=Math.floor(Bt.length/qt)),r=Bt.slice(qt*Kt,qt*Kt+qt)):r=Bt,{totalRows:Bt.length,rows:r}}function ct(e,t){var n,i,r,o=[],a=0,l=t.length;Tt&&Tt.ignoreDiffsBefore&&(a=Math.max(0,Math.min(t.length,Tt.ignoreDiffsBefore))),Tt&&Tt.ignoreDiffsAfter&&(l=Math.min(t.length,Math.max(0,Tt.ignoreDiffsAfter)));for(var s=a,u=e.length;l>s;s++)s>=u?o[o.length]=s:(n=t[s],i=e[s],(Pt.length&&(r=n.__nonDataRow||i.__nonDataRow)&&n.__group!==i.__group||n.__group&&!n.equals(i)||r&&(n.__groupTotals||i.__groupTotals)||n[Rt]!=i[Rt]||Ft&&Ft[n[Rt]])&&(o[o.length]=s));return o}function ft(e){Mt=null,(Tt.isFilterNarrowing!=kt.isFilterNarrowing||Tt.isFilterExpanding!=kt.isFilterExpanding)&&(Et=[]);var t=gt(e);Vt=t.totalRows;var n=t.rows;jt=[],Pt.length&&(jt=et(n),jt.length&&(nt(jt),it(jt),n=rt(jt)));var i=ct(St,n);return St=n,i}function pt(){if(!Nt){var e=St.length,t=Vt,n=ft(Ct,At);qt&&Kt*qt>Vt&&(Kt=Math.max(0,Math.ceil(Vt/qt)-1),n=ft(Ct,At)),Ft=null,kt=Tt,Tt={},t!=Vt&&Ht.notify(v(),null,$t),e!=St.length&&zt.notify({previous:e,current:St.length},null,$t),n.length>0&&Lt.notify({rows:n},null,$t)}}function ht(e,t){function n(){if(o.length>0){i=!0;var n=r.mapIdsToRows(o);t||(o=r.mapRowsToIds(n)),e.setSelectedRows(n),i=!1}}var i,r=this,o=r.mapRowsToIds(e.getSelectedRows());e.onSelectedRowsChanged.subscribe(function(){i||(o=r.mapRowsToIds(e.getSelectedRows()))}),this.onRowsChanged.subscribe(n),this.onRowCountChanged.subscribe(n)}function mt(e,t){function n(e){r={};for(var t in e){var n=St[t][Rt];r[n]=e[t]}}function i(){if(r){o=!0,M();var n={};for(var i in r){var a=Mt[i];void 0!=a&&(n[a]=r[i])}e.setCellCssStyles(t,n),o=!1}}var r,o;n(e.getCellCssStyles(t)),e.onCellCssStylesChanged.subscribe(function(e,i){o||t==i.key&&i.hash&&n(i.hash)}),this.onRowsChanged.subscribe(i),this.onRowCountChanged.subscribe(i)}var vt,_t,wt,It,yt,$t=this,xt={groupItemMetadataProvider:null,inlineFilters:!1},Rt="id",Ct=[],St=[],bt={},Mt=null,At=null,Ft=null,Nt=!1,Gt=!0,Tt={},kt={},Bt=[],Et=[],Dt={getter:null,formatter:null,comparer:function(e,t){return e.value-t.value},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0},Pt=[],jt=[],Ot=[],Ut=":|:",qt=0,Kt=0,Vt=0,zt=new Slick.Event,Lt=new Slick.Event,Ht=new Slick.Event,Qt=[],Wt=[],Jt=[],Xt={},Yt={},Zt={},en={};t=e.extend(!0,{},xt,t),e.extend(this,{beginUpdate:n,endUpdate:i,setPagingOptions:m,getPagingInfo:v,getItems:d,setItems:h,setFilter:y,sort:_,fastSort:w,reSort:I,setGrouping:x,getGrouping:$,groupBy:R,setAggregators:C,collapseAllGroups:Q,expandAllGroups:W,collapseGroup:X,expandGroup:Y,getGroups:Z,getIdxById:b,getRowById:A,getItemById:F,getItemByIdx:S,mapRowsToIds:G,mapIdsToRows:N,setRefreshHints:r,setFilterArgs:o,refresh:pt,updateItem:T,insertItem:k,addItem:q,deleteItem:K,syncGridSelection:ht,syncGridCellCssStyles:mt,getLength:V,getItem:z,getItemMetadata:L,onRowCountChanged:zt,onRowsChanged:Lt,onPagingInfoChanged:Ht,getUpdatedItems:g,getNewItems:c,getDeletedItems:f,setNewItems:p,isRowSaved:P,isNewRow:O,isUpdatedRow:U,isRowUpdated:j,refreshItemAfterCommit:D,refreshItemAfterRollback:E,clearArraysAfterCommit:B,updateNewIdxById:l,updateUpdatedIdxById:s})}function n(e){this.field_=e,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(e){var t=e[this.field_];this.count_++,null!=t&&""!==t&&0/0!==t&&(this.nonNullCount_++,this.sum_+=parseFloat(t))},this.storeResult=function(e){e.avg||(e.avg={}),0!=this.nonNullCount_&&(e.avg[this.field_]=this.sum_/this.nonNullCount_)}}function i(e){this.field_=e,this.init=function(){this.min_=null},this.accumulate=function(e){var t=e[this.field_];null!=t&&""!==t&&0/0!==t&&(null==this.min_||t<this.min_)&&(this.min_=t)},this.storeResult=function(e){e.min||(e.min={}),e.min[this.field_]=this.min_}}function r(e){this.field_=e,this.init=function(){this.max_=null},this.accumulate=function(e){var t=e[this.field_];null!=t&&""!==t&&0/0!==t&&(null==this.max_||t>this.max_)&&(this.max_=t)},this.storeResult=function(e){e.max||(e.max={}),e.max[this.field_]=this.max_}}function o(e){this.field_=e,this.init=function(){this.sum_=null},this.accumulate=function(e){var t=e[this.field_];null!=t&&""!==t&&0/0!==t&&(this.sum_+=parseFloat(t))},this.storeResult=function(e){e.sum||(e.sum={}),e.sum[this.field_]=this.sum_}}e.extend(!0,window,{Tuml:{Slick:{Data:{DataView:t,Aggregators:{Avg:n,Min:i,Max:r,Sum:o}}}}})}(jQuery);