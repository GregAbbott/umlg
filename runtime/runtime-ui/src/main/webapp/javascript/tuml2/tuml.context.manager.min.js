!function(e){function n(){function n(n){e("#contextRoot").remove();var a=e("<ol />",{id:"contextRoot","class":"breadcrumb uml-breadcrumb"}).appendTo("#umlgnavbar .collapse.navbar-collapse");n.reverse();for(var r=0;r<n.length;r++){var i=n[r],c=e("<li data="+i.uri+"/>").appendTo(a);0==r&&e("<span />",{"class":"glyphicon glyphicon-home"}).appendTo(c);var l=addUiToUrl(i.uri),u=e("<a />",{href:l,text:(0==r?" ":"")+i.name,title:i.name,tabindex:r,click:function(n){var t=e.data(n.target).data;return o.onClickContextMenu.notify({uri:removeUiFromUrl(t),name:"unused"},null,o),n.preventDefault(),!1}});u.appendTo(c),u.data("data",i.uri),r==n.length-2&&(t=u)}}var t,o=this;this.goBackOne=function(){void 0!==t&&t.click()},this.setFocus=function(){var n=e("#contextRootUl li");e(n[0]).addClass("ui-state-focus"),n.find("a")[0].focus()},this.refresh=function(t,o,a){if(t===tumlModelName)n([{name:t,uri:o}]);else{var r=o.replace(new RegExp("{(s*?.*?)*?}","gi"),encodeURIComponent(a)),i=r.replace(new RegExp("{(s*?.*?)*?}","gi"),encodeURIComponent(a))+"/compositePathToRoot";e.ajax({url:i,type:"GET",dataType:"json",contentType:"application/json",success:function(e){n(e.data)},error:function(e,n,t){alert("Error creating context path. textStatus: "+n+" errorThrown: "+t)}})}},e.extend(this,{TumlContextManagerVersion:"1.0.0",onClickContextMenu:new Tuml.Event})}e.extend(!0,window,{Tuml:{ContextManager:n}})}(jQuery);