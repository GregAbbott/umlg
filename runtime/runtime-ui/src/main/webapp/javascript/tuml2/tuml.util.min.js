function calculateBodyHeight(e){var i;return i=e instanceof Tuml.TumlTabManyViewManager?600:$(".ui-layout-center").height()-102}function retrieveMetaDataIfNotInCache(e,i,t,a){function r(e){if(e=="/"+tumlModelName)return tumlModelName;var i=e.replace("/"+tumlModelName+"/",""),t=i.indexOf("/"),a=i.indexOf("/",t+1),r=i.substring(0,t+1)+"{param}"+i.substring(a);return r}var l=r(e),n=Tuml.Metadata.Cache.getFromCache(l);void 0===n||null===n?$.ajax({url:e,type:"OPTIONS",dataType:"json",contentType:"json",success:function(r){for(var n=[],m=0;m<r.length;m++){var u={data:[]};u.meta=r[m].meta,n.push(u)}Tuml.Metadata.Cache.add(l,n),combineMetaDataWithResult(t,r),a(e,t,i)},error:function(i,t,a){alert("error getting meta data from retrieveMetaDataIfNotInCache  "+e+"\n textStatus: "+t+"\n errorThrown: "+a)}}):(combineMetaDataWithResult(t,n),a(e,t,i))}function combineMetaDataWithResult(e,i){for(var t=0;t<e.length;t++)if(void 0==i[t].meta.from)e[t].meta=i[t].meta;else for(var a=0;a<i.length;a++)if(e[t].meta.qualifiedNameTo==i[a].meta.to.qualifiedName&&e[t].meta.qualifiedNameFrom==i[a].meta.from.qualifiedName){e[t].meta=i[a].meta;break}}function escapeColon(e){return e.replace(/(:|\.)/g,"\\$1")}function retrieveVertexId(e){if(e=="/"+tumlModelName)return null;var i=e.replace("/"+tumlModelName+"/",""),t=i.indexOf("/"),a=i.lastIndexOf("/");if(-1!==a){if(t==a){var r=i.substring(a+1);return r}var l=i.substring(0,a),n=l.lastIndexOf("/"),r=i.substring(n+1,a);return r}return null}function selectFormatter(e,i,t){return"uri"==e.name?new TumlSlick.Formatters.Link:e.derived?TumlSlick.Formatters.TumlDerivedPropertyFormatter:"id"==e.name?i?TumlSlick.Formatters.TumlIdNewFormatter:t?TumlSlick.Formatters.TumlIdUpdatedFormatter:TumlSlick.Formatters.TumlRegularFormatter:e.lower>0&&null!=e.dataTypeEnum&&void 0!==e.dataTypeEnum?TumlSlick.Formatters.TumlRequired:null!=e.dataTypeEnum&&void 0!==e.dataTypeEnum?null:e.lower>0&&(e.oneEnumeration||e.manyEnumeration)?TumlSlick.Formatters.TumlRequired:e.composite&&e.lower>0?null:!e.onePrimitive&&!e.manyPrimitive&&!e.composite&&(e.manyToOne||e.oneToOne)&&e.lower>0?TumlSlick.Formatters.TumlToOneRequiredFormatter:e.onePrimitive||e.manyPrimitive||e.manyEnumeration?e.lower>0&&"Long"==e.fieldType?TumlSlick.Formatters.TumlRequired:e.lower>0&&"Real"==e.fieldType?TumlSlick.Formatters.TumlRequired:e.lower>0&&"Integer"==e.fieldType?TumlSlick.Formatters.TumlRequired:e.lower>0&&"String"==e.fieldType?TumlSlick.Formatters.TumlRequired:e.manyPrimitive&&"Boolean"==e.fieldType?TumlSlick.Formatters.TumlManyBoolean:"Boolean"==e.fieldType?TumlSlick.Formatters.TumlBoolean:TumlSlick.Formatters.TumlRegularFormatter:function(e,i,t){return void 0!==t&&null!==t?t.displayName:""}}function selectFieldValidator(e){if("uri"==e.name);else if(e.derived);else if(null!=e.dataTypeEnum&&void 0!==e.dataTypeEnum)if(e.upper>1||-1===e.upper){if("Date"==e.dataTypeEnum)return new TumlSlick.Validators.TumlManyDateValidator(e).validate;if("Time"==e.dataTypeEnum)return new TumlSlick.Validators.TumlManyTimeValidator(e).validate;if("DateTime"==e.dataTypeEnum)return new TumlSlick.Validators.TumlManyDateTimeValidator(e).validate;if("InternationalPhoneNumber"==e.dataTypeEnum);else if("LocalPhoneNumber"==e.dataTypeEnum);else{if("Email"==e.dataTypeEnum)return new TumlSlick.Validators.TumlManyString(e).validate;"Video"==e.dataTypeEnum||"Audio"==e.dataTypeEnum||"Image"==e.dataTypeEnum||alert("Unsupported dataType "+e.dataTypeEnum)}}else{if("Date"==e.dataTypeEnum)return new TumlSlick.Validators.Date(e).validate;if("Time"==e.dataTypeEnum)return new TumlSlick.Validators.Time(e).validate;if("DateTime"==e.dataTypeEnum)return new TumlSlick.Validators.DateTime(e).validate;if("InternationalPhoneNumber"==e.dataTypeEnum);else if("LocalPhoneNumber"==e.dataTypeEnum);else{if("Email"==e.dataTypeEnum)return new TumlSlick.Validators.TumlString(e).validate;"Video"==e.dataTypeEnum||"Audio"==e.dataTypeEnum||"Image"==e.dataTypeEnum||alert("Unsupported dataType "+e.dataTypeEnum)}}else{if(e.composite)return new TumlSlick.Validators.TumlObject(e).validate;if(e.manyEnumeration)return new TumlSlick.Validators.TumlManyEnumerationValidator(e).validate;if(e.oneEnumeration)return new TumlSlick.Validators.TumlString(e).validate;if(e.onePrimitive||e.manyPrimitive||e.composite)if("id"==e.name);else{if(!e.manyPrimitive&&"String"==e.fieldType)return new TumlSlick.Validators.TumlString(e).validate;if(e.manyPrimitive&&"String"==e.fieldType)return new TumlSlick.Validators.TumlManyString(e).validate;if(!e.manyPrimitive&&"Integer"==e.fieldType)return new TumlSlick.Validators.TumlNumber(e).validate;if(e.manyPrimitive&&"Integer"==e.fieldType)return new TumlSlick.Validators.TumlManyNumber(e).validate;if(!e.manyPrimitive&&"Long"==e.fieldType)return new TumlSlick.Validators.TumlNumber(e).validate;if(e.manyPrimitive&&"Long"==e.fieldType)return new TumlSlick.Validators.TumlManyNumber(e).validate;if(!e.manyPrimitive&&"Real"==e.fieldType)return new TumlSlick.Validators.TumlNumber(e).validate;if(e.manyPrimitive&&"Real"==e.fieldType)return new TumlSlick.Validators.TumlManyNumber(e).validate;if(!e.manyPrimitive&&"Boolean"==e.fieldType)return new TumlSlick.Validators.TumlBoolean(e).validate;if(e.manyPrimitive&&"Boolean"==e.fieldType)return new TumlSlick.Validators.TumlManyBoolean(e).validate;alert("validator not found for property "+e.name)}else;}return function(){return{valid:!0,msg:null}}}function selectEditor(e){if("uri"==e.name)return null;if(e.readOnly)return null;if(void 0===e.dataTypeEnum||null==e.dataTypeEnum)return e.composite&&1===e.lower&&1==e.upper?null:e.composite&&e.lower>=1&&(e.upper>1||-1==e.upper)?null:e.oneEnumeration?Tuml.Slick.Editors.SelectEnumerationCellEditor:e.manyEnumeration?Tuml.Slick.Editors.ManyEnumerationEditor:e.manyPrimitive&&"String"===e.fieldType?Tuml.Slick.Editors.ManyStringPrimitiveEditor:e.manyPrimitive&&"Integer"===e.fieldType?Tuml.Slick.Editors.ManyIntegerPrimitiveEditor:e.manyPrimitive&&"Long"===e.fieldType?Tuml.Slick.Editors.ManyIntegerPrimitiveEditor:e.manyPrimitive&&"Real"===e.fieldType?Tuml.Slick.Editors.ManyIntegerPrimitiveEditor:e.manyPrimitive&&"Boolean"===e.fieldType?Tuml.Slick.Editors.ManyBooleanPrimitiveEditor:e.onePrimitive||e.manyPrimitive||e.composite||e.associationClassOne||!e.memberEndOfAssociationClass||!e.oneToOne&&!e.manyToOne?e.onePrimitive||e.manyPrimitive||e.composite||e.associationClassOne||!e.oneToOne&&!e.manyToOne?!e.composite&&e.lower>0&&e.associationClassOne?null:"id"==e.name?null:"String"==e.fieldType?Tuml.Slick.Editors.Text:"Integer"==e.fieldType?Tuml.Slick.Editors.Integer:"Long"==e.fieldType?Tuml.Slick.Editors.Integer:"Real"==e.fieldType?Tuml.Slick.Editors.Double:"Boolean"==e.fieldType?Tuml.Slick.Editors.Checkbox:Slick.Editors.Text:Tuml.Slick.Editors.SelectOneToOneCellEditor:Tuml.Slick.Editors.SelectToOneAssociationClassCellEditor;if(e.upper>1||-1===e.upper){if("Date"==e.dataTypeEnum)return Tuml.Slick.Editors.ManyDateEditor;if("Time"==e.dataTypeEnum)return Tuml.Slick.Editors.ManyTime;if("DateTime"==e.dataTypeEnum)return Tuml.Slick.Editors.ManyDateTime;if("InternationalPhoneNumber"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;if("LocalPhoneNumber"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;if("Email"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;if("Video"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;if("Audio"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;if("Image"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;alert("Unsupported dataType "+e.dataTypeEnum)}else{if("Date"==e.dataTypeEnum)return Tuml.Slick.Editors.Date;if("Time"==e.dataTypeEnum)return Tuml.Slick.Editors.Time;if("DateTime"==e.dataTypeEnum)return Tuml.Slick.Editors.DateTime;if("InternationalPhoneNumber"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;if("LocalPhoneNumber"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;if("Email"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;if("Video"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;if("Audio"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;if("Image"==e.dataTypeEnum)return Tuml.Slick.Editors.Text;alert("Unsupported dataType "+e.dataTypeEnum)}}function addUiToUrl(e){var i,t=e.indexOf("/",1),a=e.substring(0,t),r=e.substring(t,e.length);return i=void 0!==a&&""!=a?a+"/ui2"+r:r+"/ui2"}function removeUiFromUrl(e){return e.replace("/ui2","")}function createGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=16*Math.random()|0,t="x"===e?i:3&i|8;return t.toString(16)})}