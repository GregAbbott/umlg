<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../assets/ico/favicon.ico">

    <title>UMLG</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- UMLG doc style -->
    <link href="stylesheets/umlg-doc.css" rel="stylesheet">

    <!-- Syntax Highlighter -->
    <link href="stylesheets/prettify.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body data-spy="scroll" data-target="#affix-nav">
<header class="navbar navbar-fixed-top navbar-inverse" role="banner">
    <div class="container">
        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="index.html" class="navbar-brand">UMLG</a>
        </div>
        <nav class="collapse navbar-collapse" role="navigation">
            <ul class="nav navbar-nav pull-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="doc_home.html">Home</a></li>
                        <li><a href="introduction.html">Introduction</a></li>
                        <li><a href="getting_started.html">Getting Started</a></li>
                        <li><a href="umlg_inaction.html">UMLG In action</a></li>
                        <li><a href="gremlin_extension.html">Gremlin Extension</a></li>
                        <li><a href="umlg_reference.html">UMLG Reference</a></li>
                        <li><a href="ocl_reference.html">OCL reference</a></li>
                        <li><a href="rest_interface.html">Rest Interface</a></li>
                        <li><a href="gui.html">Gui</a></li>
                    </ul>
                </li>
                <li>
                    <a href="https://github.com/pietermartin/umlg">Github</a>
                </li>
                <li>
                    <a href="http://demo.umlg.org">Demo</a>
                </li>
            </ul>
        </nav>
    </div>
</header>

<div class="jumbotron umlg-doc-jumbotron">
    <p>UMLG Reference Manual</p>
</div>

<!-- Begin Body -->
<div class="container umlgcontainer">
    <div class="row">
        <div class="col-md-3" id="leftcol">
            <div class="bs-docs-sidebar hidden-print" role="complementary">
                <ul class="nav bs-docs-sidebar" id="sidebar">
                    <li class="active"><a href="#UMLGCollectionSemanticsID">UMLG Collection Semantics</a><ul class="nav">
<li><a href="#CollectionExampleID">Collection Example</a></li></ul>
</li><li><a href="#UMLGTypesID">UMLG Types</a><ul class="nav">
<li><a href="#UMLPrimitiveTypesID">UML Primitive Types</a><ul class="nav">
<li><a href="#UMLPrimitiveTypeExampleID">UML Primitive Type Example</a></li></ul>
</li><li><a href="#JavaPrimitiveTypesID">Java Primitive Types</a><ul class="nav">
<li><a href="#JavaPrimitiveTypeExampleID">Java Primitive Type Example</a></li></ul>
</li><li><a href="#UMLGDataTypesID">UMLG Data Types</a><ul class="nav">
<li><a href="#UMLGDataTypeExampleID">UMLG Data Type Example</a></li></ul>
</li><li><a href="#UMLGValidationStereotypesID">UMLG Validation Stereotypes</a><ul class="nav">
<li><a href="#ApplyavalidationstereotypeID">Apply a validation stereotype</a></li><li><a href="#UMLGValidationExampleID">UMLG Validation Example</a></li></ul>
</li></ul>
</li><li><a href="#AssociationsID">Associations</a><ul class="nav">
<li><a href="#CompositeAssociationsID">Composite Associations</a><ul class="nav">
<li><a href="#CompositeAssociationExampleID">Composite Association Example</a></li></ul>
</li><li><a href="#NormalAssociationsID">Normal Associations</a><ul class="nav">
<li><a href="#NormalAssociationExampleID">Normal Association Example</a></li></ul>
</li></ul>
</li><li><a href="#MultiplicityID">Multiplicity</a><ul class="nav">
<li><a href="#MultiplicityExampleID">Multiplicity Example</a></li></ul>
</li><li><a href="#InheritanceID">Inheritance</a><ul class="nav">
<li><a href="#InheritanceAssociationExampleID">Inheritance Association Example</a></li></ul>
</li><li><a href="#InterfacesID">Interfaces</a><ul class="nav">
<li><a href="#InterfacesExampleID">Interfaces Example</a></li></ul>
</li><li><a href="#EnumerationID">Enumeration</a><ul class="nav">
<li><a href="#EnumerationExampleID">Enumeration Example</a></li></ul>
</li><li><a href="#AssociationClassesID">Association Classes</a><ul class="nav">
<li><a href="#AssociationClassExampleID">Association Class Example</a></li></ul>
</li><li><a href="#ConstraintsID">Constraints</a><ul class="nav">
<li><a href="#ConstraintExampleID">Constraint Example</a></li></ul>
</li><li><a href="#QualifiersID">Qualifiers</a></li><li><a href="#SubsettingID">Subsetting</a></li><li><a href="#RedefinitionsID">Redefinitions</a></li>
                </ul>
            </div>
        </div>
        <div class="col-md-9">

            <p class="pull-right visible-xs">
                <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
            </p>
            <!-- UMLG Reference Manual -->

<h2 id="UMLGCollectionSemanticsID">UMLG Collection Semantics</h2>

<p>UML has 2 boolean properties that specifies the collection semantics of a property. They are,</p>

<ul>
<li>uniqueness</li>
<li>ordering</li>
</ul>

<p>These properties only make sense when the property has a upper multiplicity greater than 1. Together they specify whether
a property will be one of the following,</p>

<ul>
<li><strong>Set</strong> (isUnique = true, isOrdered = false)</li>
<li><strong>List</strong> (isUnique = false, isOrdered = true)</li>
<li><strong>OrderedSet</strong> (isUnique = true, isOrdered = true)</li>
<li><strong>Bag</strong> (isUnique = false, isOrdered = false)</li>
</ul>

<p>UMLG has 4 corresponding java interfaces to represent the 4 collections.</p>

<ul>
<li><code class="language-java">org.umlg.runtime.collection.UmlgSet</code></li>
<li><code class="language-java">org.umlg.runtime.collection.UmlgSequence</code></li>
<li><code class="language-java">org.umlg.runtime.collection.UmlgOrderedSet</code></li>
<li><code class="language-java">org.umlg.runtime.collection.UmlgBag</code></li>
</ul>

<p>To implement <code class="language-java">UmlgSet</code> and <code class="language-java">UmlgSequence</code> the standard java Set and List collection classes are used.</p>

<p>For <code class="language-java">UmlgBag</code> google guava's <a href="http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multiset.html">Multiset</a> is used</p>

<p>For <code class="language-java">UmlgOrderedSet</code> apache collections' <a href="https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/set/ListOrderedSet.html">ListOrderedSet</a> is used.</p>

<p>This implies that for any property with a upper multiplicity greater than 1 the property will be one of the 4 given types.</p>

<h3 id="CollectionExampleID">Collection Example</h3>

<p><img src="images/uml/quickpreview/org/umlg/setsemantics/Package_setsemantics_SetSemanticsClassDiagram.PNG" alt="image of set semantics" title="" /></p>

<p>Illustrates {unique}</p>

<pre class="prettyprint"><code class="language-java">@Test
public void testSet() {
    Performance p = new Performance();
    Reservation r1 = new Reservation();
    Reservation r2 = new Reservation();
    p.addToReservation(r1);
    p.addToReservation(r2);
    UMLG.get().commit();
    Assert.assertTrue(p.getReservation() instanceof UmlgSet);
    Assert.assertTrue(p.getReservation() instanceof Set);
    Assert.assertEquals(2, p.getReservation().size());
}
</code></pre>

<p>Illustrates {ordered}</p>

<pre class="prettyprint"><code class="language-java">@Test
public void testList() {
    Performance p = new Performance();
    Request r1 = new Request();
    Request r2 = new Request();
    p.addToRequest(r1);
    p.addToRequest(r2);
    UMLG.get().commit();
    Assert.assertTrue(p.getRequest() instanceof UmlgSequence);
    Assert.assertTrue(p.getRequest() instanceof List);
    Assert.assertEquals(2, p.getRequest().size());
}
</code></pre>

<p>Illustrates {ordered, unique}</p>

<pre class="prettyprint"><code class="language-java">@Test
public void testOrderedSet() {
    Order o = new Order();
    LineItem l1 = new LineItem();
    LineItem l2 = new LineItem();
    o.addToLineItem(l1);
    o.addToLineItem(l2);
    UMLG.get().commit();
    Assert.assertTrue(o.getLineItem() instanceof UmlgOrderedSet);
    Assert.assertTrue(o.getLineItem() instanceof Set);
    Assert.assertTrue(o.getLineItem() instanceof List);
    Assert.assertEquals(2, o.getLineItem().size());
}
</code></pre>

<p>Illustrates {}</p>

<pre class="prettyprint"><code class="language-java">@Test
public void testBag() {
    Product p = new Product();
    Complaint c1 = new Complaint();
    Complaint c2 = new Complaint();
    p.addToComplaint(c1);
    p.addToComplaint(c2);
    UMLG.get().commit();
    Assert.assertTrue(p.getComplaint() instanceof UmlgBag);
    Assert.assertTrue(p.getComplaint() instanceof Multiset);
    Assert.assertEquals(2, p.getComplaint().size());
}
</code></pre>

<p><br /></p>

<h2 id="UMLGTypesID">UMLG Types</h2>

<p><br /></p>

<h3 id="UMLPrimitiveTypesID">UML Primitive Types</h3>

<p>From the UML specification.</p>

<blockquote>
  <p>A primitive type defines a predefined data type, without any relevant substructure (i.e., it has no parts in the context of
 UML). A primitive datatype may have an algebra and operations defined outside of UML, for example, mathematically.</p>
</blockquote>

<p>UMLG supports UML's basic primitive types. These are,</p>

<ul>
<li><strong>Boolean</strong>, translates to java's <code class="language-java">java.lang.Boolean</code></li>
<li><strong>Integer</strong>, translates to java's <code class="language-java">java.lang.Integer</code></li>
<li><strong>Real</strong>, translates to java's <code class="language-java">java.lang.Double</code></li>
<li><strong>String</strong>, translates to java's <code class="language-java">java.lang.String</code></li>
<li><strong>UnlimitedNatural</strong>, translates to java's <code class="language-java">java.lang.Integer</code> <em class="bg-danger">UnlimitedNatural is any integer >= 0</em></li>
</ul>

<p><br /></p>

<h4 id="UMLPrimitiveTypeExampleID">UML Primitive Type Example</h4>

<p><img src="images/uml/umlprimitivetype/umlPrimitiveType.png" alt="image of example uml primitive type" title="" /></p>

<pre class="prettyprint"><code class="language-java">@Test
public void testUmlPrimitiveType() {
    UmlPrimitiveType umlPrimitiveType = new UmlPrimitiveType();
    umlPrimitiveType.setAString("This is a string");
    umlPrimitiveType.setABoolean(true);
    umlPrimitiveType.setAInteger(1);
    umlPrimitiveType.setAUnlimitedNatural(1);
    umlPrimitiveType.setAReal(1D);
    db.commit();
    //Ensure we are getting the values from the db, clearing any cached values in the object
    umlPrimitiveType.reload();
    Assert.assertEquals("This is a string", umlPrimitiveType.getAString());
    Assert.assertEquals(true, umlPrimitiveType.getABoolean());
    Assert.assertEquals(1, umlPrimitiveType.getAInteger(), 0);
    Assert.assertEquals(1, umlPrimitiveType.getAUnlimitedNatural(), 0);
    Assert.assertEquals(1D, umlPrimitiveType.getAReal(), 0);
}
</code></pre>

<p><br /></p>

<h3 id="JavaPrimitiveTypesID">Java Primitive Types</h3>

<p>UMLG supports UML's java primitive types. These are,</p>

<ul>
<li><strong>boolean</strong>, translates to java's <code class="language-java">java.lang.Boolean</code></li>
<li><strong>int</strong>, translates to java's <code class="language-java">java.lang.Integer</code></li>
<li><strong>long</strong>, translates to java's <code class="language-java">java.lang.Long</code></li>
<li><strong>float</strong>, translates to java's <code class="language-java">java.lang.Float</code></li>
<li><strong>double</strong>, translates to java's <code class="language-java">java.lang.Double</code></li>
<li><strong>char</strong>, <em class="bg-danger">Not yet implemented</em></li>
<li><strong>short</strong>, <em class="bg-danger">Not yet implemented</em></li>
<li><strong>byte</strong>, <em class="bg-danger">Not yet implemented</em></li>
</ul>

<p><br /></p>

<h4 id="JavaPrimitiveTypeExampleID">Java Primitive Type Example</h4>

<p><img src="images/uml/javaprimitivetype/javaPrimitiveType.png" alt="image of example java primitive type" title="" /></p>

<pre class="prettyprint"><code class="language-java">@Test
public void testJavaPrimitiveType() {
    JavaPrimitiveType javaPrimitiveType = new JavaPrimitiveType();
    javaPrimitiveType.setABoolean(true);
    javaPrimitiveType.setAInteger(1);
    javaPrimitiveType.setALong(1L);
    javaPrimitiveType.setAFloat(1F);
    javaPrimitiveType.setADouble(1D);
    db.commit();
    //Ensure we are getting the values from the db, clearing any cached values in the object
    javaPrimitiveType.reload();
    Assert.assertEquals(true, javaPrimitiveType.getABoolean());
    Assert.assertEquals(1, javaPrimitiveType.getAInteger(), 0);
    Assert.assertEquals(1L, javaPrimitiveType.getALong(), 0);
    Assert.assertEquals(1F, javaPrimitiveType.getAFloat(), 0);
    Assert.assertEquals(1D, javaPrimitiveType.getADouble(), 0);
}
</code></pre>

<p><br /></p>

<h3 id="UMLGDataTypesID">UMLG Data Types</h3>

<p>From the UML specification.</p>

<blockquote>
  <p>A data type is a type whose instances are identified only by their value. A DataType may contain attributes to support the
 modeling of structured data types.</p>
</blockquote>

<p>UMLG has its own library of data types. This is packaged in <strong>umlg-datatypes.uml</strong>. umlg-datatypes.uml is prepackaged with
the application generated by the <a href="http://umlg.org/getting_started.html" title="UMLG maven archetype">UMLG maven archetype</a>.
Otherwise copy umlg-datatypes.uml to the directory of your model and import the library into your model.</p>

<p><strong>umlg-datatypes.uml</strong> contains the following data types,</p>

<ul>
<li><strong>Email</strong>, translates to <code class="language-java">java.lang.String</code></li>
<li><strong>DateTime</strong>, translates to <code class="language-java">org.joda.time.DateTime</code></li>
<li><strong>Date</strong>, translates to <code class="language-java">org.joda.time.LocalDate</code></li>
<li><strong>Time</strong>, translates to <code class="language-java">org.joda.time.LocalTime</code></li>
<li><strong>InternationalPhoneNumber</strong>, <em class="bg-danger">Not yet implemented</em></li>
<li><strong>LocalPhoneNumber</strong>, <em class="bg-danger">Not yet implemented</em></li>
<li><strong>Interval</strong>, <em class="bg-danger">Not yet implemented</em></li>
<li><strong>Duration</strong>, <em class="bg-danger">Not yet implemented</em></li>
<li><strong>CreditCardNumber</strong>, <em class="bg-danger">Not yet implemented</em></li>
<li><strong>Video</strong>, <em class="bg-danger">Not yet implemented</em></li>
<li><strong>Audio</strong>, <em class="bg-danger">Not yet implemented</em></li>
<li><strong>Image</strong>, <em class="bg-danger">Not yet implemented</em></li>
</ul>

<p><br /></p>

<h4 id="UMLGDataTypeExampleID">UMLG Data Type Example</h4>

<p><img src="images/uml/umlgdatatype/umlgDataType.png" alt="image of umlg data type" title="" /></p>

<pre class="prettyprint"><code class="language-java">@Test
public void testUmlgDataType() {
    UmlgDataType umlgDataType = new UmlgDataType();
    umlgDataType.setEmail("john.smith@hero.com");
    umlgDataType.setDatetime(new DateTime(UmlgFormatter.parseDateTime("2014-05-04 12:12:12")));
    umlgDataType.setDate(new LocalDate(UmlgFormatter.parseDate("2014-05-04")));
    umlgDataType.setTime(new LocalTime(UmlgFormatter.parseTime("12:12")));
    db.commit();
    //Ensure we are getting the values from the db, clearing any cached values in the object
    umlgDataType.reload();
    Assert.assertEquals("john.smith@hero.com", umlgDataType.getEmail());
    Assert.assertEquals("2014-05-04 12:12:12", UmlgFormatter.format(umlgDataType.getDatetime()));
    Assert.assertEquals("2014-05-04", UmlgFormatter.format(umlgDataType.getDate()));
    Assert.assertEquals("12:12", UmlgFormatter.format(umlgDataType.getTime()));
}
</code></pre>

<p><br /></p>

<h3 id="UMLGValidationStereotypesID">UMLG Validation Stereotypes</h3>

<p>UMLG uses stereotypes to validate the data types. For most simple validations this is faster and easier than using ocl
constraints to implement the validation logic.</p>

<p><strong>UML Primitive Type validation stereotypes</strong></p>

<p><img src="images/uml/validationprofile/Profile_Umlg_Validation_NewDiagram.PNG" alt="image of validation profile, uml" title="" /></p>

<p><strong>UML Java Primitive Type validation stereotypes</strong></p>

<p><img src="images/uml/validationprofile/Profile_Umlg_Validation_JavaPrimitiveTypeProfileDiagram.PNG" alt="image of validation profile, java" title="" /></p>

<p>The UMLG validation profile is packaged in <strong>validation.profile.uml</strong>.</p>

<p>validation.profile.uml is prepackaged with the application generated by the
<a href="http://umlg.org/getting_started.html" title="UMLG maven archetype">UMLG maven archetype</a>.
Otherwise copy <a href="https://github.com/pietermartin/umlg/blob/master/umlglib/validation.profile.uml">validation.profile.uml</a>
to the directory of your model and imported the library into your model.</p>

<p><strong>validation.profile.uml</strong> contains the following stereotypes,</p>

<ul>
<li><strong>MinLength</strong>, validates that a String has a length greater than or equal to the value specified on the stereotype</li>
<li><strong>MaxLength</strong>, validates that a String has a length smaller than or equal to the value specified on the stereotype</li>
<li><strong>RangeLength</strong>, validates that a String has a length within the range specified on the stereotype</li>
<li><strong>MinInteger</strong>, validates that a Integer is <em>greater</em> or equal to the specified value.</li>
<li><strong>MaxInteger</strong>, validates that a Integer is <em>smaller</em> or equal to the specified value.</li>
<li><strong>RangeInteger</strong>, validates that a Integer is in the the range specified.</li>
<li><strong>MinUnlimitedNatural</strong>, validates that a UnlimitedNatural (Integer) is <em>greater</em> or equal to the specified value.</li>
<li><strong>MaxUnlimitedNatural</strong>, validates that a UnlimitedNatural (Integer) is <em>smaller</em> or equal to the specified value.</li>
<li><strong>RangeUnlimitedNatural</strong>, validates that a UnlimitedNatural (Integer) is in the the range specified.</li>
<li><strong>MinReal</strong>, validates that a Real (Double) is <em>greater</em> or equal to the specified value.</li>
<li><strong>MaxReal</strong>, validates that a Real (Double) is <em>smaller</em> or equal to the specified value.</li>
<li><strong>RangeReal</strong>, validates that a Real (Double) is in the the range specified.</li>
</ul>

<p><br /></p>

<ul>
<li><strong>MinLong</strong>, validates that a Float is <em>greater</em> or equal to the specified value.</li>
<li><strong>MaxLong</strong>, validates that a Float is <em>smaller</em> or equal to the specified value.</li>
<li><strong>RangeLong</strong>, validates that a Float  is in the the range specified.</li>
<li><strong>MinFloat</strong>, validates that a Float is <em>greater</em> or equal to the specified value.</li>
<li><strong>MaxFloat</strong>, validates that a Float is <em>smaller</em> or equal to the specified value.</li>
<li><strong>RangeFloat</strong>, validates that a Float is in the the range specified.</li>
<li><strong>MinDouble</strong>, validates that a Double is <em>greater</em> or equal to the specified value.</li>
<li><strong>MaxDouble</strong>, validates that a Double is <em>smaller</em> or equal to the specified value.</li>
<li><strong>RangeDouble</strong>, validates that a Double is in the the range specified.</li>
</ul>

<p><br /></p>

<h4 id="ApplyavalidationstereotypeID">Apply a validation stereotype</h4>

<p>To use the a UMLG validation stereotype you need to apply the stereotype to a property and specify the max, min or range values.</p>

<p><img src="images/uml/stereotype/validationStereotype.png" alt="image of validation stereotype" title="" /></p>

<p><br /></p>

<h4 id="UMLGValidationExampleID">UMLG Validation Example</h4>

<p><img src="images/uml/validationprofile/umlgValidation.png" alt="image of umlg validation" title="" /></p>

<pre class="prettyprint"><code class="language-java">@Test(expected = UmlgConstraintViolationException.class)
public void testUmlgMinLengthValidationFails() {
    Validation validation = new Validation();
    //The stereotype validation that the minimum length must be at least 5
    validation.setMinLength("1234");
}

@Test(expected = UmlgConstraintViolationException.class)
public void testUmlgMinIntegerValidationFails() {
    Validation validation = new Validation();
    //The stereotype validation that the minimum value must be at least 5
    validation.setMinInteger(4);
}

@Test(expected = UmlgConstraintViolationException.class)
public void testUmlgMinUnlimitedNaturalValidationFails() {
    Validation validation = new Validation();
    //The stereotype validation that the minimum value must be at least 5
    validation.setMinUnlimitedNatural(4);
}

@Test(expected = UmlgConstraintViolationException.class)
public void testUmlgMinRealValidationFails() {
    Validation validation = new Validation();
    //The stereotype validation that the minimum value must be at least 5.123
    validation.setMinReal(5.122D);
}

@Test(expected = UmlgConstraintViolationException.class)
public void testUmlgMinLongValidationFails() {
    Validation validation = new Validation();
    //The stereotype validation that the minimum value must be at least 5
    validation.setMinLong(4L);
}

@Test(expected = UmlgConstraintViolationException.class)
public void testUmlgMinFloatValidationFails() {
    Validation validation = new Validation();
    //The stereotype validation that the minimum value must be at least 5.123
    validation.setMinFloat(5.122F);
}

@Test(expected = UmlgConstraintViolationException.class)
public void testUmlgMinDoubleValidationFails() {
    Validation validation = new Validation();
    //The stereotype validation that the minimum value must be at least 5.123
    validation.setMinDouble(5.122D);
}

@Test
public void testUmlgValidationPasses() {
    Validation validation = new Validation();
    //The stereotype validation that the minimum length must be at least 5
    validation.setMinLength("12345");
    validation.setMinInteger(5);
    validation.setMinUnlimitedNatural(5);
    validation.setMinReal(5.123D);
    validation.setMinLong(5L);
    validation.setMinFloat(5.123F);
    validation.setMinDouble(5.123D);
}
</code></pre>

<p><br /></p>

<h2 id="AssociationsID">Associations</h2>

<p>From the UML specification.</p>

<blockquote>
  <p>An association describes a set of tuples whose values refer to typed instances. An instance of an association is called a
link.A link is a tuple with one value for each end of the association, where each value is an instance of the type of the
end.</p>

<p>An association specifies a semantic relationship that can occur between typed instances. It has at least two ends
represented by properties, each of which is connected to the type of the end. More than one end of the association may
have the same type.</p>

<p>...</p>

<p>An association may represent a composite aggregation (i.e., a whole/part relationship). Only binary associations can be
 aggregations. Composite aggregation is a strong form of aggregation that requires a part instance be included in at most
 one composite at a time. If a composite is deleted, all of its parts are normally deleted with it. Note that a part can (where
 allowed) be removed from a composite before the composite is deleted, and thus not be deleted as part of the composite.
 Compositions may be linked in a directed acyclic graph with transitive deletion characteristics; that is, deleting an
 element in one part of the graph will also result in the deletion of all elements of the subgraph below that element.
 Composition is represented by the isComposite attribute on the part end of the association being set to true.</p>

<p>Navigability means instances participating in links at runtime (instances of an association) can be accessed efficiently
 from instances participating in links at the other ends of the association. The precise mechanism by which such access is
 achieved is implementation specific. If an end is not navigable, access from the other ends may or may not be possible,
 and if it is, it might not be efficient.</p>
</blockquote>

<p>UMLG implements aggregation <code class="language-java">none</code> and <code class="language-java">composite</code>.</p>

<p><br /></p>

<h3 id="CompositeAssociationsID">Composite Associations</h3>

<p><code class="language-java">composite</code> aggregation is represented in UML with a diamond at the other member end of the association.</p>

<p><br /></p>

<h4 id="CompositeAssociationExampleID">Composite Association Example</h4>

<p>The example below models the composite associations of a software window.</p>

<p><img src="images/uml/association/composite/associationComposite.png" alt="image of association composite" title="" /></p>

<p>For entities with a composite parent UMLG generates an additional constructor that takes the parent as parameter.</p>

<pre class="prettyprint"><code class="language-java">/**
 * Using the constructor with the composite parent as parameter
 */
@Test
public void testAssociationCompositeWithCompositeConstructor() {
    Window window = new Window();
    Slider slider1 = new Slider(window);
    Slider slider2 = new Slider(window);
    Header header = new Header(window);
    Panel panel = new Panel(window);
    db.commit();
    Assert.assertEquals(2, window.getScrollbar().size());
    Assert.assertEquals(header, window.getTitle());
    Assert.assertEquals(panel, window.getBody());
}

/**
 * Using the default constructor
 */
@Test
public void testAssociationCompositeWithDefaultConstructor() {
    Window window = new Window();
    Slider slider1 = new Slider();
    window.addToScrollbar(slider1);
    Slider slider2 = new Slider();
    window.addToScrollbar(slider2);
    Header header = new Header();
    window.addToTitle(header);
    Panel panel = new Panel();
    window.addToBody(panel);
    db.commit();
    Assert.assertEquals(2, window.getScrollbar().size());
    Assert.assertEquals(header, window.getTitle());
    Assert.assertEquals(panel, window.getBody());
}
</code></pre>

<p><br />
<strong>Deleting the parent object also deletes its composite children!</strong></p>

<p>This is because the semantics of a composite relationship implies a strong whole/part relationship.</p>

<pre class="prettyprint"><code class="language-java">@Test
public void testAssociationCompositeDeletion() {
    Window window = new Window();
    Slider slider1 = new Slider(window);
    Slider slider2 = new Slider(window);
    Header header = new Header(window);
    Panel panel = new Panel(window);
    db.commit();

    Assert.assertEquals(2, window.getScrollbar().size());
    Assert.assertEquals(header, window.getTitle());
    Assert.assertEquals(panel, window.getBody());
    Assert.assertEquals(1, Window.allInstances().size());
    Assert.assertEquals(2, Slider.allInstances().size());
    Assert.assertEquals(1, Header.allInstances().size());
    Assert.assertEquals(1, Panel.allInstances().size());

    window.delete();
    db.commit();

    Assert.assertEquals(0, Window.allInstances().size());
    Assert.assertEquals(0, Slider.allInstances().size());
    Assert.assertEquals(0, Header.allInstances().size());
    Assert.assertEquals(0, Panel.allInstances().size());
}
</code></pre>

<p><br /></p>

<h3 id="NormalAssociationsID">Normal Associations</h3>

<p><code class="language-java">none</code> aggregation is represented as an association with no adornment.</p>

<p><br /></p>

<h4 id="NormalAssociationExampleID">Normal Association Example</h4>

<p>The example below models a many to many relationship between Company and Person.</p>

<p><img src="images/uml/association/normal/normalAssociation.png" alt="image of normal composite" title="" /></p>

<pre class="prettyprint"><code class="language-java">@Test
public void testNormalAssociation() {
    Company microsoft = new Company();
    microsoft.setName("microsoft");
    Company apple = new Company();
    apple.setName("apple");

    Person john = new Person();
    john.setName("john");
    john.addToEmployer(microsoft);
    john.addToEmployer(apple);

    Person joe = new Person();
    joe.setName("joe");
    joe.addToEmployer(microsoft);

    db.commit();

    Assert.assertEquals(2, microsoft.getEmployee().size());
    Assert.assertTrue(microsoft.getEmployee().contains(john));
    Assert.assertTrue(microsoft.getEmployee().contains(joe));
    Assert.assertTrue(apple.getEmployee().contains(john));

    Assert.assertEquals(2, john.getEmployer().size());
    Assert.assertTrue(john.getEmployer().contains(microsoft));
    Assert.assertTrue(john.getEmployer().contains(apple));

    Assert.assertEquals(1, joe.getEmployer().size());
    Assert.assertTrue(joe.getEmployer().contains(microsoft));
    Assert.assertTrue(!joe.getEmployer().contains(apple));
}
</code></pre>

<p><br /></p>

<h2 id="MultiplicityID">Multiplicity</h2>

<p>From the UML specification.</p>

<blockquote>
  <p>A multiplicity is a definition of an inclusive interval of non-negative integers beginning with a lower bound and ending
 with a (possibly infinite) upper bound. A multiplicity element embeds this information to specify the allowable
 cardinalities for an instantiation of this element.</p>
</blockquote>

<p>UMLG validates the multiplicities exactly as specified. If a property's multiplicity is [2..5] then the number of
instances of that element must be between 2 and 5 inclusive. This can be quite restrictive if a property's lower
multiplicity is modeled greater than zero. Having a lower multiplicity greater than zero implies that the entity will
not be able to be persisted unless the property has been set.</p>

<p>Upper multiplicity is also validated unless the upper multiplicity is set to <code class="language-java">*</code>. <code class="language-java">*</code> indicates that there is no upper
limit specified.</p>

<p><br /></p>

<h4 id="MultiplicityExampleID">Multiplicity Example</h4>

<p>The example below models a one to many relationship between Customer and Purchase and Customer and Account.
The customer must have at least one and not more than five accounts. The customer can have any number of Purchases
including not having any at all.</p>

<p><img src="images/uml/multiplicity/multiplicity.png" alt="image of multiplicities" title="" /></p>

<pre class="prettyprint"><code class="language-java">//This will fail as the customer needs at least one account
@Test(expected = UmlgConstraintViolationException.class)
public void testCustomerNeedsAnAccount() {
    Customer customer = new Customer();
    db.commit();
}

//This will fail as the customer can not have more than 5 accounts
@Test(expected = UmlgConstraintViolationException.class)
public void testCustomerHasMoreThanFiveAccounts() {
    Customer customer = new Customer();
    Account account1 = new Account();
    Account account2 = new Account();
    Account account3 = new Account();
    Account account4 = new Account();
    Account account5 = new Account();
    Account account6 = new Account();
    customer.addToAccount(account1);
    customer.addToAccount(account2);
    customer.addToAccount(account3);
    customer.addToAccount(account4);
    customer.addToAccount(account5);
    customer.addToAccount(account6);
    db.commit();
}

//Test passes as the customer has 5 accounts and purchases are not required.
@Test
public void testCustomerHasAccounts() {
    Customer customer = new Customer();
    Account account1 = new Account();
    Account account2 = new Account();
    Account account3 = new Account();
    Account account4 = new Account();
    Account account5 = new Account();
    customer.addToAccount(account1);
    customer.addToAccount(account2);
    customer.addToAccount(account3);
    customer.addToAccount(account4);
    customer.addToAccount(account5);
    db.commit();
}

@Test
public void testCustomerCanHaveAnyNumberOfPurchases() {
    Customer customer = new Customer();
    //Add at least one account.
    Account account = new Account();
    customer.addToAccount(account);
    Random randomGenerator = new Random();
    int numberOfPurchases = randomGenerator.nextInt(10000);
    for (int i = 0; i &lt; numberOfPurchases; i++) {
        Purchase purchase = new Purchase();
        customer.addToPurchase(purchase);
    }
    db.commit();
}
</code></pre>

<p>The example below illustrates multiplicities on primitive types.</p>

<p><img src="images/uml/multiplicity/primitiveMultiplicity.png" alt="image of multiplicities" title="" /></p>

<pre class="prettyprint"><code class="language-java">//This will fail as the child needs to 5 top favourite numbers
@Test(expected = UmlgConstraintViolationException.class)
public void testPrimitiveMultiplicityFails() {
    Child child = new Child();
    child.setName("John");
    child.addToFavouriteNumbers(1);
    child.addToFavouriteNumbers(2);
    child.addToTop5FavouriteNumbers(1);
    child.addToTop5FavouriteNumbers(2);
    child.addToTop5FavouriteNumbers(3);
    child.addToTop5FavouriteNumbers(4);
    db.commit();
}

@Test
public void testPrimitiveMultiplicity() {
    Child child = new Child();
    child.setName("John");
    child.addToFavouriteNumbers(1);
    child.addToFavouriteNumbers(2);
    child.addToTop5FavouriteNumbers(1);
    child.addToTop5FavouriteNumbers(2);
    child.addToTop5FavouriteNumbers(3);
    child.addToTop5FavouriteNumbers(4);
    child.addToTop5FavouriteNumbers(5);
    db.commit();
}
</code></pre>

<h2 id="InheritanceID">Inheritance</h2>

<p>From the UML specification</p>

<blockquote>
  <p>A generalization is a taxonomic relationship between a more general classifier and a more specific classifier. Each
 instance of the specific classifier is also an indirect instance of the general classifier. Thus, the specific classifier inherits
 the features of the more general classifier.</p>
</blockquote>

<p>UML's term for inheritance is <strong>generalization</strong>.</p>

<p>UMLG supports inheritance. <em class="bg-danger">UML's multiple inheritance is not supported.</em></p>

<p>UMLG supports abstract classes.</p>

<p><br /></p>

<h3 id="InheritanceAssociationExampleID">Inheritance Association Example</h3>

<p>The example below illustrates inheritance. The Shape class is abstract.</p>

<p><img src="images/uml/inheritance/inheritance.png" alt="image of inheritance" title="" /></p>

<pre class="prettyprint"><code class="language-java">@Test
public void testInheritance() {
    Drawing drawing = new Drawing();
    Polygon polygon = new Polygon(drawing);
    polygon.setName("polygon1");
    Eclipse eclipse = new Eclipse(drawing);
    eclipse.setName("eclipse1");
    Spline spline = new Spline(drawing);
    spline.setName("spline1");
    db.commit();

    Assert.assertTrue(polygon instanceof Shape);
    Assert.assertTrue(eclipse instanceof Shape);
    Assert.assertTrue(spline instanceof Shape);
    Assert.assertEquals("polygon1", polygon.getName());
    Assert.assertEquals("eclipse1", eclipse.getName());
    Assert.assertEquals("spline1", spline.getName());
}
</code></pre>

<p>The example below illustrates polymorphism.</p>

<p><img src="images/uml/inheritance/polymorphism.png" alt="image of polymorphism" title="" /></p>

<p>The shapes can be accessed by index as the drawing &lt;-> shape association is ordered.</p>

<pre class="prettyprint"><code class="language-java">@Test
public void testPolymorphism() {
    Drawing drawing = new Drawing();
    Polygon polygon = new Polygon();
    Eclipse eclipse = new Eclipse();
    Spline spline = new Spline();
    drawing.addToShape(polygon);
    drawing.addToShape(eclipse);
    drawing.addToShape(spline);
    db.commit();

    Assert.assertEquals(3, drawing.getShape().size());
    Assert.assertEquals(polygon, drawing.getShape().get(0));
    Assert.assertEquals(eclipse, drawing.getShape().get(1));
    Assert.assertEquals(spline, drawing.getShape().get(2));
}
</code></pre>

<h2 id="InterfacesID">Interfaces</h2>

<p>From the UML specification.</p>

<blockquote>
  <p>An interface is a kind of classifier that represents a declaration of a set of coherent public features and obligations. An
 interface specifies a contract; any instance of a classifier that realizes the interface must fulfill that contract. The
 obligations that may be associated with an interface are in the form of various kinds of constraints (such as pre- and post-
 conditions) or protocol specifications, which may impose ordering restrictions on interactions through the interface.</p>

<p>Since interfaces are declarations, they are not instantiable. Instead, an interface specification is implemented by an
 instance of an instantiable classifier, which means that the instantiable classifier presents a public facade that conforms to
 the interface specification. Note that a given classifier may implement more than one interface and that an interface may
 be implemented by a number of different classifiers</p>
</blockquote>

<p><br /></p>

<h3 id="InterfacesExampleID">Interfaces Example</h3>

<p>The example below illustrates interfaces.</p>

<p><img src="images/uml/interfase/interface.png" alt="image of interfaces" title="" /></p>

<pre class="prettyprint"><code class="language-java">@Test
public void testInterfaces() {
    Creator creator = new Creator();
    Ghost casper = new Ghost();
    creator.addToCreation(casper);
    Mamal simba = new Mamal();
    creator.addToCreation(simba);
    db.commit();

    Assert.assertTrue(casper instanceof Spirit);
    Assert.assertTrue(simba instanceof Spirit);
    Assert.assertTrue(simba instanceof Being);

    //For test purposes, ensure the creator is reloaded from the db.
    creator.reload();
    Assert.assertTrue(creator.getCreation().contains(casper));
    Assert.assertTrue(creator.getCreation().contains(simba));
}
</code></pre>

<h2 id="EnumerationID">Enumeration</h2>

<p>From the UML specification.</p>

<blockquote>
  <p>An enumeration is a data type whose values are enumerated in the model as enumeration literals.</p>

<p>An enumeration literal is a user-defined data value for an enumeration.</p>
</blockquote>

<p><br /></p>

<h3 id="EnumerationExampleID">Enumeration Example</h3>

<p>The example below illustrates enumeration.</p>

<p><img src="images/uml/enumeration/enumeration.png" alt="image of interfaces" title="" /></p>

<pre class="prettyprint"><code class="language-java">@Test
public void testEnumeration() {
    JvmClass javaClass = new JvmClass();
    javaClass.setLanguage(Language.JAVA);
    javaClass.setVisibility(VisibilityKind.PACKAGE);
    JvmClass scalaClass = new JvmClass();
    scalaClass.setLanguage(Language.SCALA);
    scalaClass.setVisibility(VisibilityKind.PUBLIC);
    db.commit();

    javaClass.reload();
    scalaClass.reload();
    Assert.assertEquals(VisibilityKind.PACKAGE, javaClass.getVisibility());
    Assert.assertEquals(Language.JAVA, javaClass.getLanguage());
    Assert.assertEquals(VisibilityKind.PUBLIC, scalaClass.getVisibility());
    Assert.assertEquals(Language.SCALA, scalaClass.getLanguage());
}
</code></pre>

<h2 id="AssociationClassesID">Association Classes</h2>

<p>From the UML specification.</p>

<blockquote>
  <p>A model element that has both association and class properties. An AssociationClass can be seen as an association that
 also has class properties, or as a class that also has association properties. It not only connects a set of classifiers but also
 defines a set of features that belong to the relationship itself and not to any of the classifiers.</p>
</blockquote>

<p><br /></p>

<h3 id="AssociationClassExampleID">Association Class Example</h3>

<p>The example below illustrates an association class.</p>

<p><img src="images/uml/associationclass/associationclass.png" alt="image of interfaces" title="" /></p>

<pre class="prettyprint"><code class="language-java">@Test
public void testAssociationClass() {
    Student john = new Student();
    Course math = new Course();
    Enrollment enrollmentMath = new Enrollment();
    enrollmentMath.setJoined(new LocalDate());
    enrollmentMath.setSemester(Semester.FIRST);
    john.addToCourse(math, enrollmentMath);

    Course english = new Course();
    Enrollment enrollmentEnglish = new Enrollment();
    enrollmentEnglish.setJoined(new LocalDate());
    enrollmentEnglish.setSemester(Semester.SECOND);
    john.addToCourse(english, enrollmentEnglish);
    db.commit();

    Assert.assertEquals(2, john.getEnrollment().size());
    Assert.assertTrue(john.getEnrollment().contains(enrollmentMath));
    Assert.assertTrue(john.getEnrollment().contains(enrollmentEnglish));

    //UMLG generates convenience methods to get the association class given the other end of the association
    Assert.assertEquals(enrollmentMath, john.getEnrollment_course(math));
    Assert.assertEquals(enrollmentEnglish, john.getEnrollment_course(english));

    //The association class is a class like any other. Its properties can be navigated to.
    Assert.assertEquals(math, enrollmentMath.getCourse());
    Assert.assertEquals(english, enrollmentEnglish.getCourse());
}
</code></pre>

<h2 id="ConstraintsID">Constraints</h2>

<p>From the UML specification.</p>

<blockquote>
  <p>A constraint is a condition or restriction expressed in natural language text or in a machine readable language for the
 purpose of declaring some of the semantics of an element.</p>

<p>...</p>

<p>A user-defined Constraint is described using a specified
 language, whose syntax and interpretation is a tool responsibility. One predefined language for writing constraints is
 OCL. In some situations, a programming language such as Java may be appropriate for expressing a constraint. In other
 situations natural language may be used.
 Constraint is a condition (a Boolean expression) that restricts the extension of the associated element beyond what is
 imposed by the other language constructs applied to that element.</p>
</blockquote>

<p>UMLG supports constraints specified in OCL.</p>

<p>All constraints are evaluated just before commit is executed.</p>

<p><br /></p>

<h3 id="ConstraintExampleID">Constraint Example</h3>

<p>The example below illustrates constraints on a class.</p>

<p><img src="images/uml/constraint/constraint.png" alt="image of interfaces" title="" /></p>

<pre class="prettyprint"><code class="language-java">@Test(expected = UmlgConstraintViolationException.class)
public void testConstraintValueFails() {
    ATMTransaction atmTransaction = new ATMTransaction();
    atmTransaction.setValue(-1);
    db.commit();
}

@Test(expected = UmlgConstraintViolationException.class)
public void testConstraintNotSelfFail() {
    Friend john = new Friend();
    john.addToKnows(john);
    db.commit();
}
</code></pre>

<h2 id="QualifiersID">Qualifiers</h2>

<h2 id="SubsettingID">Subsetting</h2>

<h2 id="RedefinitionsID">Redefinitions</h2>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>

<p>a</p>


        </div>
    </div>
    <hr>
    <footer class="pull-right">
        <p>100% open source. Licensed under the Apache Software License 2.0</p>
    </footer>

</div>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>
<script src="javascripts/offcanvas.js"></script>
<script src="javascripts/prettify.js"></script>

<script type='text/javascript'>

    $(document).ready(function () {

        $('#sidebar').affix(
                {
                    offset: {
                        top: 80
                    }
                }
        );

        var $body = $(document.body);
        var navHeight = $('.navbar').outerHeight(true) + 10;

        $body.scrollspy({
            target: '#leftcol',
            offset: navHeight
        });

        /* smooth scrolling sections */
        $('a[href*=#]:not([href=#])').click(function () {
            if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
                var target = $(this.hash);
                target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                if (target.length) {
                    $('html,body').animate({
                        scrollTop: target.offset().top - 50
                    }, 1000);
                    return false;
                }
            }
        });

    });

    prettyPrint();

</script>

</body>
</html>
